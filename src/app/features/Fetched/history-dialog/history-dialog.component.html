<div class="dialog-header">
  <h1 mat-dialog-title>
    <i class="bi bi-clock-history me-2"></i>Assignment History
  </h1>
</div>

<div mat-dialog-content>
  <div *ngIf="isLoading" class="dialog-state-container">
    <p>Loading history...</p>
  </div>

  <div *ngIf="error" class="dialog-state-container error-message">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="!isLoading && !error">
    <input
      type="text"
      placeholder="Search history..."
      (input)="onQuickFilterChanged($event)"
      class="form-control mb-2"
    />
    
    <ag-grid-angular
      *ngIf="assignmentHistory.length > 0; else noHistoryFound"
      style="width: 100%; height: 450px;"
      class="ag-theme-alpine"
      [rowData]="assignmentHistory"
      [columnDefs]="columnDefs"
      [defaultColDef]="defaultColDef"
      [pagination]="true"
      [paginationPageSize]="10"
      (gridReady)="onGridReady($event)"
    ></ag-grid-angular>
    
    <ng-template #noHistoryFound>
      <div class="dialog-state-container">
        <p>No assignment history found for this owner.</p>
      </div>
    </ng-template>
  </div>
</div>

<div mat-dialog-actions align="end">
  <button mat-stroked-button mat-dialog-close class="btn-red">Close</button>
</div>