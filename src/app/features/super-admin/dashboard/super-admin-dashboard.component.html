<div class="mobile-overlay" [class.active]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>
<button class="mobile-menu-btn" (click)="toggleMobileMenu()">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        <rect y="4" width="24" height="3" rx="1.5" fill="currentColor"/>
        <rect y="10.5" width="24" height="3" rx="1.5" fill="currentColor"/>
        <rect y="17" width="24" height="3" rx="1.5" fill="currentColor"/>
    </svg>
</button>

<div class="dashboard-container">
    <aside class="sidebar" [class.collapsed]="isSidebarCollapsed" [class.mobile-open]="isMobileMenuOpen">
        <div class="sidebar-header">
            <div class="user-section">
                <div class="user-avatar">{{ userInitials }}</div>
                <div class="user-info">
                    <div class="user-name">{{ userFullName }}</div>
                    <div class="user-role">{{ userRole }}</div>
                </div>
            </div>
            <button class="collapse-btn" (click)="toggleSidebar()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>

        <nav class="sidebar-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <div class="nav-parent" [class.expanded]="userMenuOpen" (click)="toggleUserMenu()">
                        <div class="nav-parent-content">
                            <span class="nav-icon"></span>
                            <span class="nav-text">User Management</span>
                        </div>
                        <span class="nav-arrow">▼</span>
                    </div>
                    <ul class="nav-children" [class.expanded]="userMenuOpen">
                        <li><a routerLink="admin-management" class="nav-link" (click)="hideWelcome()">Admin Management</a></li>
                        <li><a routerLink="owner-management" class="nav-link" (click)="hideWelcome()">Owner Management</a></li>
                        <li><a routerLink="customer-management" class="nav-link" (click)="hideWelcome()">Customer Management</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a routerLink="approval-management" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Approval Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="vehicle-management" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Vehicle Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="consignment-management" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Consignment Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="payment-management" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Payment Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="fare-management" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Fare Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="complaint-management" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Complaint Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="term-management" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Term Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="wallet-management" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Wallet Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a routerLink="analytics" class="nav-link" (click)="hideWelcome()">
                        <span class="nav-icon"></span>
                        <span class="nav-text">Analytics</span>
                    </a>
                </li>
            </ul>
        </nav>

    <!-- signout-section moved to the end of the sidebar -->

        <div class="signout-section">
            <button class="signout-btn" (click)="signOut()">
                <span>🚪</span>
                <span class="signout-text">Sign Out</span>
            </button>
        </div>
    </aside>

    <!-- <main class="main-content" [class.sidebar-collapsed]="isSidebarCollapsed">
        <div class="welcome-section" *ngIf="showWelcome"> -->
            <!-- <div class="super-admin-badge">
                <span style="font-size:1.5em;">🛡️</span> Super Admin
            </div> -->
            <!-- <h1 class="welcome-title">
                <span class="welcome-icon"></span>
                <span>Welcome, Super Admin!</span>
            </h1>
            <p class="welcome-text">
                You have full access to manage users, vehicles, payments, analytics, and system settings.<br>
                Use the sidebar to get started.
            </p>
            <button class="cta-btn" (click)="hideWelcome()">Go to Dashboard</button>
        </div>
        
        <div class="content-area" *ngIf="!showWelcome">
            <router-outlet></router-outlet>
        </div>
    <!-- </main> -->

<div class="welcome-section">
  <h1 class="welcome-title">
    <span class="welcome-icon">🛡️</span>
    <span>Welcome, Super Admin!</span>
  </h1>
  <p class="welcome-text">
    You have full access to manage users, vehicles, payments, analytics, and system settings.<br>
    Use the sidebar to get started.
  </p>
  <button class="cta-btn" (click)="hideWelcome()">Go to Dashboard</button>
</div>

</div> 